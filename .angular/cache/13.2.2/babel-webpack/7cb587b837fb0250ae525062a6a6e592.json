{"ast":null,"code":"import _asyncToGenerator from \"/home/vrsa/ck-zavrsni/ck-volunteer-log-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { isDevMode } from '@angular/core';\nexport function JuiceProviderFactory(juice) {\n  juice.setLanguage(getLangFromLocalStorage());\n  juice.setEndPoint('http://localhost:3000');\n  return /*#__PURE__*/_asyncToGenerator(function* () {\n    if (!isDevMode()) {\n      const config = yield juice.loadConfiguration('config.json');\n\n      if (config.url === 'auto') {\n        juice.setEndPoint(window.location.protocol + '//' + window.location.host);\n      } else {\n        juice.setEndPoint(config.url);\n      }\n    }\n\n    return yield juice.init().then(success => {\n      console.log('Juicebox Initalized', success);\n    });\n  });\n}\n\nfunction getLangFromLocalStorage() {\n  const FALLBACK_LANG = 'en_GB';\n  let lang = null;\n\n  try {\n    lang = localStorage.getItem('lang');\n  } catch (err) {\n    return FALLBACK_LANG;\n  }\n\n  if (!lang) return FALLBACK_LANG;\n  return lang;\n}","map":{"version":3,"sources":["/home/vrsa/ck-zavrsni/ck-volunteer-log-frontend/src/providers/JuiceFactory.ts"],"names":["isDevMode","JuiceProviderFactory","juice","setLanguage","getLangFromLocalStorage","setEndPoint","config","loadConfiguration","url","window","location","protocol","host","init","then","success","console","log","FALLBACK_LANG","lang","localStorage","getItem","err"],"mappings":";AAAA,SAASA,SAAT,QAA0B,eAA1B;AACA,OAAO,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;AACxCA,EAAAA,KAAK,CAACC,WAAN,CAAkBC,uBAAuB,EAAzC;AACAF,EAAAA,KAAK,CAACG,WAAN,CAAkB,uBAAlB;AACA,wCAAO,aAAY;AACf,QAAI,CAACL,SAAS,EAAd,EAAkB;AACd,YAAMM,MAAM,SAASJ,KAAK,CAACK,iBAAN,CAAwB,aAAxB,CAArB;;AACA,UAAID,MAAM,CAACE,GAAP,KAAe,MAAnB,EAA2B;AACvBN,QAAAA,KAAK,CAACG,WAAN,CAAkBI,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,IAA3B,GAAkCF,MAAM,CAACC,QAAP,CAAgBE,IAApE;AACH,OAFD,MAGK;AACDV,QAAAA,KAAK,CAACG,WAAN,CAAkBC,MAAM,CAACE,GAAzB;AACH;AACJ;;AACD,iBAAaN,KAAK,CAACW,IAAN,GAAaC,IAAb,CAAkBC,OAAO,IAAI;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,OAAnC;AACH,KAFY,CAAb;AAGH,GAbD;AAcH;;AACD,SAASX,uBAAT,GAAmC;AAC/B,QAAMc,aAAa,GAAG,OAAtB;AACA,MAAIC,IAAI,GAAG,IAAX;;AACA,MAAI;AACAA,IAAAA,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAP;AACH,GAFD,CAGA,OAAOC,GAAP,EAAY;AACR,WAAOJ,aAAP;AACH;;AACD,MAAI,CAACC,IAAL,EACI,OAAOD,aAAP;AACJ,SAAOC,IAAP;AACH","sourcesContent":["import { isDevMode } from '@angular/core';\nexport function JuiceProviderFactory(juice) {\n    juice.setLanguage(getLangFromLocalStorage());\n    juice.setEndPoint('http://localhost:3000');\n    return async () => {\n        if (!isDevMode()) {\n            const config = await juice.loadConfiguration('config.json');\n            if (config.url === 'auto') {\n                juice.setEndPoint(window.location.protocol + '//' + window.location.host);\n            }\n            else {\n                juice.setEndPoint(config.url);\n            }\n        }\n        return await juice.init().then(success => {\n            console.log('Juicebox Initalized', success);\n        });\n    };\n}\nfunction getLangFromLocalStorage() {\n    const FALLBACK_LANG = 'en_GB';\n    let lang = null;\n    try {\n        lang = localStorage.getItem('lang');\n    }\n    catch (err) {\n        return FALLBACK_LANG;\n    }\n    if (!lang)\n        return FALLBACK_LANG;\n    return lang;\n}\n"]},"metadata":{},"sourceType":"module"}